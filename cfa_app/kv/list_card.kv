#:kivy 2.1.0
#:import hex kivy.utils.get_color_from_hex

<ListingCard>:
    padding: 5
    size_hint: .35, None
    height: 420
    radius: 10
    elevation: 1

    canvas:
        Color:
            rgba: .95, .95, .95, 1
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [10, 10, 10, 10]
    
    MDBoxLayout:
        id: background_box
        orientation: 'vertical'
        padding: 5
        spacing: 10
                
        MDBoxLayout:
            #size_hint_y: .5
            size_hint_y: None
            height: '150dp'
            orientation: 'vertical'
            MDLabel:
                text: root.case_no
                theme_text_color: "Custom"
                text_color: hex("#8D8D8D")
                font_size: '14sp'
                
                halign: 'left'
                size: self.size
       
        
            MDLabel:
                text: root.comp_type
                theme_text_color: "Custom"
                text_color: hex("#8D8D8D")
                font_size: '14sp'
                
                halign: 'left'
                size: self.size

            MDLabel:
                text: root.time
                theme_text_color: "Custom"
                text_color: hex("#8D8D8D")
                font_size: '14sp'
                
                halign: 'left'
                size: self.size


            MDLabel:
                text: root.status
                theme_text_color: "Custom"
                text_color: hex("#8D8D8D")
                font_size: '14sp'
                
                halign: 'left'
                size: self.size


            MDBoxLayout:
                orientation: 'horizontal'
                padding: 5
                adaptive_height: True
                MDIconButton:
                    icon: "map-marker-radius"

                MDBoxLayout:
                    orientation: 'vertical'
                    MDLabel:
                        text: root.station
                        theme_text_color: "Custom"
                        text_color: hex("#8D8D8D")
                        font_size: '14sp'
                        halign: 'left'
                        size: self.size

                    MDLabel:
                        text: root.officer
                        theme_text_color: "Custom"
                        text_color: hex("#8D8D8D")
                        font_size: '14sp'
                        halign: 'left'
                        size: self.size




        MDLabel:
            id: paragraph_lbl
            size_hint_y: None
            text: root.para_case
            theme_text_color: "Custom"
            text_color: "green"
            font_size: '15sp'
            halign: 'left'
            #size: self.size  
            height: '20sp'


        AnchorLayout: 
            #size_hint_y: .05
            #size_hint_y: None
            #height: 10
            anchor_x: 'right'
            anchor_y: 'center'
            padding: 5
            MDIconButton:
                icon: "arrow-down-drop-circle"
                halign: 'right'
                size: self.size  
                on_release: root.show_case_details()
                #on_release: root.expand_paragraph()

        MDCard:
            #size_hint_y: .35
            size_hint_y: None
            height: 150
            padding: 5
            radius: 16
            md_bg_color: "white"
            pos_hint: {"center_x": .5, "center_y": .5}
            elevation: 1

            FitImage:
                source: root.case_img
                pos_hint: {"top": 1}
                radius: 15


        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 40
            spacing: 10
            MDFillRoundFlatIconButton:
                text: root.likes_no
                icon: 'heart-circle'
                theme_icon_color: "Custom"
                icon_color: hex('#CDD8DC')


            MDFillRoundFlatIconButton:
                
                text: root.comments_no
                icon: 'comment'
                theme_icon_color: "Custom"
                icon_color: hex('#CDD8DC')

