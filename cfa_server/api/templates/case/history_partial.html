<div class="comment-timeline-heading" style="font-size:1.3em;font-weight:bold;color:#43a047;letter-spacing:1px;margin-bottom:12px;display:flex;align-items:center;">
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="#43a047" viewBox="0 0 16 16" style="margin-right:8px;">
        <path d="M8 15s6-4.686 6-8.5S10.5 1 8 3.5 2 6.314 2 8.5 8 15 8 15z"/>
    </svg>
    Case Timeline 
</div>
{% for hist in history %}
    <div class="history mb-2">
        <div class="timeline-cstate">{{ hist.cstate|capfirst }}</div>
        <div>{{ hist.description|linebreaksbr }}</div>
        <div class="timeline-date">{{ hist.created|date:"d M Y H:i" }}</div>
        <button type="button"
                class="btn btn-link btn-sm toggle-media"
                data-source="history"
                data-cid="{{ hist.id }}">
            Media
        </button>
        <div id="media-history-{{ hist.id }}" class="d-none mt-2" data-loaded="false">
            <input type="hidden" class="media-source" value="history">
            <input type="hidden" class="media-cid" value="{{ hist.id }}">
            <div class="media-spinner text-center d-none">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
            <div class="case-media-list row"></div>
        </div>
    </div>
{% empty %}
    <div class="text-muted">No history records yet.</div>
{% endfor %}