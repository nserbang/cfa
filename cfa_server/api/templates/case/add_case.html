{% extends '_base.html' %}
{% load crispy_forms_tags %}
{% block title %}Add Complaints{% endblock title %}

{% block content %}

<div class='row'>
    <div class="col-3">
        {% include 'case/side_menu.html' %}
    </div>
    <div class="col-9">
        <h4 class="flex-fill">Add A New Complaint</h4>
        <form method="post">
            {% csrf_token %}
            {{ form|crispy }}
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
</div>

{% endblock content %}

{% block javascript %}
<script type="text/javascript">
    const successCallback = (position) => {
        console.log(position.coords);
        latitude = position.coords.latitude
        longitude = position.coords.longitude
        lat = document.getElementById('id_lat')
        lat.value = latitude.toFixed(4)
        long = document.getElementById('id_long')
        long.value = longitude.toFixed(4)
    };

    const errorCallback = (error) => {
        console.log(error);
    };

    navigator.geolocation.getCurrentPosition(successCallback, errorCallback);

</script>
{% endblock javascript %}


